<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Portal - Smart Attendance</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/style/studentportal.css">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <div class="header-title">
                    <h1>Smart Attendance</h1>
                    <p>"Your gateway to seamless attendance tracking"</p>
                </div>
            </div>
            
            <div class="user-info">
                <h3>Welcome, {{student.name}}</h3>
                <div class="user-details">
                    <span><i class="fas fa-id-card"></i> {{student.rollNumber}}</span>
                    <span><i class="fas fa-graduation-cap"></i>{{student.course}}</span>
                    <span><i class="fas fa-calendar-alt"></i> Year {{student.year}}</span>
                    <span><i class="fas fa-check-circle"></i> Sem {{student.semester}}</span>
                </div>
            </div>
            <div class="user-actions">
                <a href="/" class="action-btn logout-btn">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a>
            </div>
        </div>
    </header>

    <div class="main-container">
        <!-- Left Sidebar - Today's Classes -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h2>Today's Schedule</h2>
                <div class="current-date" id="currentDate"></div>
            </div>
            
            <div class="class-list">
                <div class="class-item" data-subject="{{timetable.class1.subjectName}}" data-time="{{timetable.class1.timing}}" data-room="{{timetable.class1.roomNo}}">
                    <div class="class-time">{{timetable.class1.timing}}</div>
                    <div class="class-subject">{{timetable.class1.subjectName}}</div>
                    <div class="class-location">
                        <i class="fas fa-map-marker-alt"></i>{{timetable.class1.roomNo}}
                    </div>
                </div>
                <div class="class-item" data-subject="{{timetable.class2.subjectName}}" data-time="{{timetable.class2.timing}}" data-room="{{timetable.class2.roomNo}}">
                    <div class="class-time">{{timetable.class2.timing}}</div>
                    <div class="class-subject">{{timetable.class2.subjectName}}</div>
                    <div class="class-location">
                        <i class="fas fa-map-marker-alt"></i>{{timetable.class2.roomNo}}
                    </div>
                </div>
                <div class="class-item" data-subject="{{timetable.class3.subjectName}}" data-time="{{timetable.class3.timing}}" data-room="{{timetable.class3.roomNo}}">
                    <div class="class-time">{{timetable.class3.timing}}</div>
                    <div class="class-subject">{{timetable.class3.subjectName}}</div>
                    <div class="class-location">
                        <i class="fas fa-map-marker-alt"></i>{{timetable.class3.roomNo}}
                    </div>
                </div>
                <div class="class-item" data-subject="{{timetable.class4.subjectName}}" data-time="{{timetable.class4.timing}}" data-room="{{timetable.class4.roomNo}}">
                    <div class="class-time">{{timetable.class4.timing}}</div>
                    <div class="class-subject">{{timetable.class4.subjectName}}</div>
                    <div class="class-location">
                        <i class="fas fa-map-marker-alt"></i>{{timetable.class4.roomNo}}
                    </div>
                </div>
                <div class="class-item" data-subject="{{timetable.class5.subjectName}}" data-time="{{timetable.class5.timing}}" data-room="{{timetable.class5.roomNo}}">
                    <div class="class-time">{{timetable.class5.timing}}</div>
                    <div class="class-subject">{{timetable.class5.subjectName}}</div>
                    <div class="class-location">
                        <i class="fas fa-map-marker-alt"></i>{{timetable.class5.roomNo}}
                    </div>
                </div>
                <div class="class-item" data-subject="{{timetable.class6.subjectName}}" data-time="{{timetable.class6.timing}}" data-room="{{timetable.class6.roomNo}}">
                    <div class="class-time">{{timetable.class6.timing}}</div>
                    <div class="class-subject">{{timetable.class6.subjectName}}</div>
                    <div class="class-location">
                        <i class="fas fa-map-marker-alt"></i>{{timetable.class6.roomNo}}
                    </div>
                </div>
            </div>
        </div>

        <div class="content-area">
            <div class="welcome-section" id="welcomeSection">
                <h2>ðŸŽ“ Welcome to Your Portal!</h2>
                <p>Select a class from your schedule to mark your attendance. Make sure to have good lighting and look directly at the camera when marking your presence. Your attendance is important for your academic progress!</p>
            </div>

            <div class="attendance-section" id="attendanceSection" style="display: none;">
                <div class="content-header">
                    <h2 id="selectedClass"></h2>
                    <p id="selectedTime"></p>
                </div>

                <!-- Attendance Status -->
                <div class="attendance-status">
                    <div class="status-info">
                        <div class="status-icon pending" id="statusIcon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="status-text">
                            <h3 id="statusTitle">Attendance Pending</h3>
                            <p id="statusDescription">Click "Mark Present" to start the face recognition process</p>
                        </div>
                    </div>
                    <a href="" class="mark-present-btn disabled" id="markPresentBtn" onclick="return false;">
                        <i class="fas fa-user-check"></i>
                        Mark Present
                    </a>
                </div>

                <!-- Camera Section -->
                <div class="camera-section">
                    <div class="camera-header">
                        <div class="camera-title">Face Recognition Camera</div>
                        <div class="current-time" id="currentTime"></div>
                    </div>
                    
                    <div class="camera-container">
                        <div class="camera-placeholder" id="cameraPlaceholder">
                            <i class="fas fa-camera" style="font-size: 3rem; margin-bottom: 15px;"></i>
                            <br>Camera is off. Click "Mark Present" to begin.
                        </div>
                        <!-- Changed from img to video element -->
                        <video style="display: none;"></video>
                    </div>
                    
                    <div class="camera-controls">
                        
                    </div>
                </div>

                <!-- Attendance Log -->
                <div class="attendance-log">
                    <div class="log-header">Recent Attendance Updates</div>
                    <div id="attendanceLog">
                        <div class="log-item">
                            <span>No recent updates</span>
                            <span>--:--</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="/js/student.js"></script>
</body>
</html>